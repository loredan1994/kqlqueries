graph LR
%% Diagram 1: Logical Architecture - Single Region - Private Only

subgraph Corporate_Network[Corporate Network]
  U[Internal User Browser]
  CorpDNS[Corporate DNS Resolver]
  IdP[Enterprise IdP SSO]
  CICD[CICD Orchestrator]
end

PC[Private Connectivity Fabric]

subgraph Cloud_Landing_Zone[Cloud Landing Zone Private]
  PDNS[Private DNS Zone]
  Ingress[Private Ingress Endpoint]
  WAF[WAF Reverse Proxy]
  Web[Web App PaaS]
  API[API App PaaS]
  Func[Functions Jobs PaaS]
  SQL[Relational Database]
  OBJ[Object Storage]
  Secrets[Secrets Store]
  Obs[Central Observability]
  Policy[Policy Guardrails]
  Agent[Private Build Deploy Agent]
end

U -->|DNS query| CorpDNS
CorpDNS -->|Forward to private DNS| PDNS

U -->|HTTPS TLS| PC
PC --> Ingress
Ingress --> WAF
WAF -->|HTTPS TLS| Web

Web -->|HTTPS TLS| API
Func -->|HTTPS TLS| API

API -->|DB private link| SQL
API -->|Storage private link| OBJ
Web -->|Storage private link| OBJ

Web -->|Get secrets| Secrets
API -->|Get secrets| Secrets
Func -->|Get secrets| Secrets

Web -->|Telemetry| Obs
API -->|Telemetry| Obs
Func -->|Telemetry| Obs

Web -->|Authenticate| IdP
API -->|Validate tokens| IdP

CICD -->|Connect| PC
PC -->|Reach| Agent
Agent -->|Deploy| Web
Agent -->|Deploy| API
Agent -->|Deploy| Func

Policy -.->|Enforce| Web
Policy -.->|Enforce| API
Policy -.->|Enforce| Func
Policy -.->|Enforce| SQL
Policy -.->|Enforce| OBJ
Policy -.->|Enforce| Ingress




graph TB
%% Diagram 2: Trust Boundaries and Data Flows - DFD Style

subgraph User_Workstation[User Workstation]
  Browser[Browser Client]
end

subgraph Corporate_Services[Corporate Services]
  CorpDNS[Corporate DNS Resolver]
  IdP[Enterprise IdP SSO]
end

subgraph Cloud_Private_Ingress[Cloud Private Ingress]
  PrivateDNS[Private DNS Zone]
  PC[Private Connectivity]
  Ingress[Private Ingress Endpoint]
  WAF[WAF Reverse Proxy]
end

subgraph Application_Services[Application Services]
  Web[Web UI Service]
  API[API Service]
  Job[Background Jobs Functions]
end

subgraph Data_Stores[Data Stores]
  SQL[Relational Database]
  Store[Object Storage]
end

subgraph Security_Operations[Security Operations]
  Secrets[Secrets Store]
  Telemetry[Logs Metrics Traces]
  SIEM[SIEM SOC]
end

Browser -->|DNS query| CorpDNS
CorpDNS -->|Forward to private DNS| PrivateDNS

Browser -->|HTTPS TLS over private connectivity| PC
PC --> Ingress
Ingress --> WAF
WAF -->|HTTPS TLS| Web

Web -->|SSO authentication| IdP
Web -->|API call| API

API -->|Query| SQL
API -->|Read write| Store
Web -->|Static media| Store

Job -->|Invoke| API
Job -->|Read write| SQL
Job -->|Read write| Store

Web -->|Get secrets| Secrets
API -->|Get secrets| Secrets
Job -->|Get secrets| Secrets

Web -->|Send telemetry| Telemetry
API -->|Send telemetry| Telemetry
Job -->|Send telemetry| Telemetry
Telemetry -->|Alerting and correlation| SIEM





graph LR
%% Diagram 3: Multi Region - Internal Only - Active Passive Example

subgraph Corporate_Network[Corporate Network]
  Users[Internal Users]
  GSLB[Internal DNS GSLB]
end

PC[Private Connectivity Fabric]

Users -->|DNS query| GSLB
Users -->|HTTPS TLS| PC

subgraph Region_A_Primary[Region A Primary]
  IngressA[Private Ingress Endpoint]
  WafA[WAF Reverse Proxy]
  WebA[Web App PaaS]
  ApiA[API App PaaS]
  FuncA[Functions Jobs]
  SqlA[Relational Database Primary]
  StoreA[Object Storage]
end

subgraph Region_B_Secondary[Region B Secondary]
  IngressB[Private Ingress Endpoint]
  WafB[WAF Reverse Proxy]
  WebB[Web App PaaS]
  ApiB[API App PaaS]
  FuncB[Functions Jobs]
  SqlB[Relational Database Secondary]
  StoreB[Object Storage]
end

GSLB -->|Resolve primary| IngressA
GSLB -.->|Failover| IngressB

PC --> IngressA
PC --> IngressB

IngressA --> WafA
WafA --> WebA
WebA --> ApiA
FuncA --> ApiA
ApiA --> SqlA
ApiA --> StoreA
WebA --> StoreA

IngressB --> WafB
WafB --> WebB
WebB --> ApiB
FuncB --> ApiB
ApiB --> SqlB
ApiB --> StoreB
WebB --> StoreB

SqlA -->|Replication| SqlB
StoreA -->|Replication| StoreB

Ops[Central Observability SIEM]
WebA -->|Telemetry| Ops
ApiA -->|Telemetry| Ops
FuncA -->|Telemetry| Ops
WebB -->|Telemetry| Ops
ApiB -->|Telemetry| Ops
FuncB -->|Telemetry| Ops
